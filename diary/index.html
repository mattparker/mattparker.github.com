<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
<html> 
<head> 
<meta http-equiv="content-type" content="text/html; charset=utf-8"> 
<title>Some YUI examples and things</title> 
 
<style type="text/css"> 
/*margin and padding on body element
  can introduce errors in determining
  element position and are not recommended;
  we turn them off as a foundation for YUI
  CSS treatments. */
body {
	margin:0;
	padding:0;
}
</style> 





<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/combo?3.1.0/build/cssreset/reset-min.css&amp;3.1.0/build/cssfonts/fonts-min.css&amp;3.1.0/build/cssgrids/grids-min.css">
<link rel="stylesheet" type="text/css" href="../assets/git.css">
<script type="text/javascript" src="http://yui.yahooapis.com/3.1.0pr1/build/yui/yui-min.js"></script> 

 
</head> 
 
<body class=" yui-skin-sam"> 
 <div class="gitpage">

<div class="links">
 <ul>
  <li>
   <a href="../">Home</a>
  </li>
  <li>
   <a href="../resize/">Resize</a>
  </li>
  <li>
   <a href="../treeviewlite/">TreeviewLite</a>
  </li>
 </ul>
</div>


<h1>YUI2 Diary</h1> 
 <p>Diary is a widget to render and manipulate a diary.  It's a work in progress
    at the moment but hoping for feedback...</p>
 
 <h2>Introducation</h2>
 <p>Diary is a YUI widget I'm working on to render a DataSource as a diary.</p>
 
 <p>Currently features are:
  <ul>
   <li>Drag and drop to move diary items</li>
   <li>Resize to change times of diary items</li>
   <li>Click and drag to create new items</li>
   <li>Some navigation</li>
   <li>Multi-day diary items display</li>
   <li>Filtering of visible items based on data passed</li>   
  </ul>
  The only view so far is week-to-view.
 </p>
 
 <h2>Examples</h2>
   <p>A couple of examples:
     <ol>
      <li><a href="simple.html">A simple example</a></li>
      <li><a href="simple.html">Mapping your data fields to what Diary expects, 
           and adding filters to the diary</a></li>
     </ol>
   </p>
   
 <h2>API docs</h2>
   <p>The API documents are <a href="api/index.html">here</a>.  They're a first draft at the moment.</p>
 
 <h2>Dependencies</h2>
   <p>The dependencies for Diary are:</p>
   <code>
      &lt;link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.8.0r4/build/reset-fonts-grids/reset-fonts-grids.css"&gt;
      &lt;link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.8.0r4/build/base/base-min.css"&gt;
      &lt;link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.8.0r4/build/resize/assets/skins/sam/resize.css"&gt; 
      &lt;!-- Optional: --&gt;
      &lt;link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.8.0r4/build/container/assets/container.css"&gt;
      &lt;link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.8.0r4/build/calendar/assets/skins/sam/calendar.css"&gt; 
      
      &lt;script type="text/javascript" src="http://yui.yahooapis.com/2.8.0r4/build/yahoo/yahoo.js"&gt;&lt;/script&gt; 
      &lt;script type="text/javascript" src="http://yui.yahooapis.com/2.8.0r4/build/event/event.js"&gt;&lt;/script&gt; 
      &lt;script type="text/javascript" src="http://yui.yahooapis.com/2.8.0r4/build/dom/dom.js"&gt;&lt;/script&gt; 
      &lt;script type="text/javascript" src="http://yui.yahooapis.com/2.8.0r4/build/event-delegate/event-delegate.js"&gt;&lt;/script&gt;
      &lt;script src="http://yui.yahooapis.com/2.8.0r4/build/event-mouseenter/event-mouseenter-min.js" &gt;&lt;/script&gt;
      &lt;script src="http://yui.yahooapis.com/2.8.0r4/build/container/container-min.js"&gt;&lt;/script&gt;
      &lt;script type="text/javascript" src="http://yui.yahooapis.com/2.8.0r4/build/selector/selector.js"&gt;&lt;/script&gt;
      &lt;script type="text/javascript" src="http://yui.yahooapis.com/2.8.0r4/build/datasource/datasource.js"&gt;&lt;/script&gt; 
      &lt;script type="text/javascript" src="http://yui.yahooapis.com/2.8.0r4/build/dragdrop/dragdrop.js"&gt;&lt;/script&gt; 
      &lt;script type="text/javascript" src="http://yui.yahooapis.com/2.8.0r4/build/element/element.js"&gt;&lt;/script&gt; 
      &lt;script type="text/javascript" src="http://yui.yahooapis.com/2.8.0r4/build/resize/resize.js"&gt;&lt;/script&gt;
      
      &lt;!-- Optional --&gt;
      &lt;script src="http://yui.yahooapis.com/2.8.0r4/build/animation/animation-min.js" type="text/javascript"&gt;&lt;/script&gt;  
      &lt;script type="text/javascript" src="http://yui.yahooapis.com/2.8.0r4/build/calendar/calendar.js"&gt;&lt;/script&gt; 
      

   </code>
   
   or combo-ed
   <code>
      &lt;!-- Combo-handled YUI CSS files: --&gt;
      &lt;link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/combo?2.8.0r4/build/assets/skins/sam/skin.css"&gt;
      &lt;!-- Combo-handled YUI JS files: --&gt;
      &lt;script type="text/javascript" src="http://yui.yahooapis.com/combo?2.8.0r4/build/yahoo-dom-event/yahoo-dom-event.js&2.8.0r4/build/animation/animation-min.js&2.8.0r4/build/calendar/calendar-min.js&2.8.0r4/build/dragdrop/dragdrop-min.js&2.8.0r4/build/container/container-min.js&2.8.0r4/build/datasource/datasource-min.js&2.8.0r4/build/datemath/datemath-min.js&2.8.0r4/build/selector/selector-min.js&2.8.0r4/build/event-delegate/event-delegate-min.js&2.8.0r4/build/event-mouseenter/event-mouseenter-min.js&2.8.0r4/build/element/element-min.js&2.8.0r4/build/element-delegate/element-delegate-min.js&2.8.0r4/build/resize/resize-min.js"&gt;&lt;/script&gt;

   </code>
   
   You'll also need the js and css available <a href="http://github.com/mattparker/diary">here on github.</a>
   
   <h2>Markup</h2>
   
    <p>You only need an element on the page to render to:</p>
     <code>
       &lt;div id="diary-holder"&gt;&lt;/div&gt;
     </code>
     
    <h2>Javascript</h2>
    
     <p>First you'll need a DataSource of diary type events.  These need at least a start
     and an end time:</p>
     
     <code>
     // The raw data:
     var dataArr = [ 
            {DTSTART: "2010/02/01 08:00", DTEND:"2010/02/01 10:30", SUMMARY: "Doctors appointment" }, 
            {DTSTART: "2010/02/01 09:00", DTEND:"2010/02/01 11:30", SUMMARY: "Write some code"}, 
            {DTSTART: "2010/02/04 11:30", DTEND:"2010/02/04 12:30", SUMMARY: "Client meeting"}
     ];

     // Set up the DataSource
     var data = new YAHOO.util.DataSource({ 
      	    total: 3, 
      	    VCALENDAR: dataArr
     }); 

     data.responseType = YAHOO.util.DataSource.TYPE_JSON;
     
     // Point to the data
     data.responseSchema = {
        resultsList : "VCALENDAR", 
        fields : [
            { key: "DTSTART" , parser:"date" },                   
            { key: "DTEND" , parser:"date" },  
            { key: "SUMMARY" }
        ]
     };
     </code>
     
     <p>Dates need to be in a form that DataSource can convert into javascript dates, and 
     you'll need to include the parser: "date".  Field names can be conifgured.
     Instantiating the Diary is then pretty straightforward:
     </p>
     
     <code>
     var cfg = { 
      startDate: new Date("2010/01/31") , // first day to show in the Diary
      width: 800, // width in px
      scaleColumns: true, // whether to stretch columns to fit
      display: { format: "week" , startTime: 08, endTime: 20 }, // display format: times as 24 hr
      calenderNav: true // whether to use a YAHOO.widget.Calendar in the navigation
     };
    
     var myDiary = new YAHOO.widget.Diary(  "diary-holder" , data, cfg  );
     </code>
     
     <h2>Tested</h2>
     <p>
       I've tested this in Firefox, IE and Chrome so far.  IE8 works OK; the scrolling
       in IE7 doesn't yet.
     </p>
 </div>
 
 
<div class="footer">
&copy; Matt Parker, <a href="http://www.lamplightdb.co.uk" title="Lamplight Database Systems">
Lamplight Database Systems Limited</a> 2010 
</div>
 </body>
 </html>